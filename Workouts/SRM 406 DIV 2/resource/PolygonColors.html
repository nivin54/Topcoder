<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td>Consider a regular polygon with <b>N</b> sides.  A diagonal is defined to be a line segment drawn that connects two non-adjacent vertices of the polygon (with the two vertices as its endpoints).  A set of diagonals is said to be <i>safe</i> if no two diagonals cross one another, except for possibly at the polygon's vertices.<br></br><br></br>

A <i>coloring</i> of a polygon is a mapping of the non-negative integers, or colors, to the vertices of the polygon.  Given a set of safe diagonals, a <i>valid coloring</i> of a polygon is a coloring of the polygon such that no two vertices which are connected by a diagonal or share a side have the same color.<br></br><br></br>

Two diagonals are distinct if at least one of their endpoints is different, and two sets of diagonals are distinct if one set contains some diagonal not contained in the other.<br></br><br></br>

You're given a coloring of a polygon with <b>N</b> sides, where the coloring is given by a int[] <b>colors</b> and <b>N</b> is described by a int.  Here, the <i>i</i>th element of <b>colors</b> is the color of the <i>i</i>th vertex.  Return how many distinct sets of safe diagonals may be assigned to the polygon such that the coloring is valid.  As this result may be very large, return the answer modulo 100000007.</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>PolygonColors</td></tr><tr><td>Method:</td><td>getWays</td></tr><tr><td>Parameters:</td><td>int, int[]</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int getWays(int N, int[] colors)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>64</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 3 and 50, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>colors</b> will have exactly <b>N</b> elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element of <b>colors</b> will be between 0 and <b>N</b>-1, inclusive.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>3</pre></td></tr><tr><td><pre>{1, 2, 0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">There are no diagonals we can add to a triangle, so the empty set is the only possibility.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>4</pre></td></tr><tr><td><pre>{1, 2, 3, 0}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2">We can either add 0 or 1 diagonals, and there are two ways to add a diagonal.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>5</pre></td></tr><tr><td><pre>{0, 1, 1, 1, 1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2">Here we have vertices that share sides, but have the same color.  Even if we choose not to add any diagonals, there are no safe sets here.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>16</pre></td></tr><tr><td><pre>{0,1,2,6,4,5,6,7,1,9,10,11,12,13,14,10}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 96791474</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>