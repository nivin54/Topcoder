<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>Bearland consists of <b>N</b> cities, numbered 1 through <b>N</b>.
Some pairs of cities are connected by one-way roads of unit length.
The distance from city X to city Y is the smallest number of roads you need to traverse in order to get from X to Y.</p>
<br></br>
<p>The road network has a special structure.
You are given a description of this structure: two int[]s <b>a</b> and <b>b</b>, each with M elements.
For each pair of distinct cities (X,Y), there is a one-way road from X to Y if and only if there is at least one index i such that X is divisible by <b>a</b>[i] and Y is divisible by <b>b</b>[i].</p>
<br></br>
<p>For example, suppose that <b>N</b> = 7, M = 1, <b>a</b>[0] = 2, and <b>b</b>[0] = 3.
In this case the country has 7 cities and it contains the following one-way roads: 2 -> 3, 2 -> 6, 4 -> 3, 4 -> 6, 6 -> 3, and 6 -> 6.</p>
<br></br>
<p>You are given the int <b>N</b>.
You are also given two ints <b>S</b> and <b>T</b>: the source city where you start your journey and the target city you want to reach.
Finally, you are given the int[]s <b>a</b> and <b>b</b> described above.</p>
<br></br>
<p>If there is no path from <b>S</b> to <b>T</b>, return -1.
Otherwise, compute and return the distance from <b>S</b> to <b>T</b>.</p></td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>FromToDivisibleDiv2</td></tr><tr><td>Method:</td><td>shortest</td></tr><tr><td>Parameters:</td><td>int, int, int, int[], int[]</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int shortest(int N, int S, int T, int[] a, int[] b)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>N</b> will be between 2 and 10^5, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>S</b> and <b>T</b> will each be between 1 and <b>N</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>S</b> and <b>T</b> will be different.</td></tr><tr><td align="center" valign="top">-</td><td>M will be between 1 and 500, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td><b>a</b> and <b>b</b> will each contain exactly M elements.</td></tr><tr><td align="center" valign="top">-</td><td>Each element in <b>a</b> and in <b>b</b> will be between 1 and <b>N</b>, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>The pairs (<b>a</b>[i],<b>b</b>[i]) are all distinct.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>11</pre></td></tr><tr><td><pre>9</pre></td></tr><tr><td><pre>6</pre></td></tr><tr><td><pre>{3,10}</pre></td></tr><tr><td><pre>{5,2}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">The one-way roads are: (3,5), (3,10), (6,5), (6,10), (9,5), (9,10), (10,2), (10,4), (10,6), (10,8).
The shortest path from city 9 to city 6 is 9 -> 10 -> 6.
It uses two roads, so the length is 2.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>12345</pre></td></tr><tr><td><pre>18</pre></td></tr><tr><td><pre>12</pre></td></tr><tr><td><pre>{1,42,50}</pre></td></tr><tr><td><pre>{1,17,3}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2">Since <b>a</b>[0] = <b>b</b>[0] = 1, there is a one-way road from any city to any other city.
In particular, there is a road from city 18 to city 12.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>60</pre></td></tr><tr><td><pre>30</pre></td></tr><tr><td><pre>8</pre></td></tr><tr><td><pre>{16,15,12}</pre></td></tr><tr><td><pre>{2,20,5}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>77</pre></td></tr><tr><td><pre>10</pre></td></tr><tr><td><pre>62</pre></td></tr><tr><td><pre>{2,5,7,4,17,26}</pre></td></tr><tr><td><pre>{25,7,11,13,31,34}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100</pre></td></tr><tr><td><pre>90</pre></td></tr><tr><td><pre>40</pre></td></tr><tr><td><pre>{20,30,100,99,100}</pre></td></tr><tr><td><pre>{10,30,100,100,99}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 2</pre></td></tr><tr><td><table><tr><td colspan="2">The only optimal path is 90 -> 60 -> 40.</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>100000</pre></td></tr><tr><td><pre>700</pre></td></tr><tr><td><pre>42345</pre></td></tr><tr><td><pre>{3500,12000,42345,20000,35,19}</pre></td></tr><tr><td><pre>{15,1,700,20000,40000,17}</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>2</pre></td></tr><tr><td><pre>1</pre></td></tr><tr><td><pre>2</pre></td></tr><tr><td><pre>{2}</pre></td></tr><tr><td><pre>{1}</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>